<svg style="width:100%;max-height:600px;background:#000822" width="5000" height="5000" viewBox="2000 2000 500 500" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style>#s {transform-origin: 20px 20px;}#r {opacity: 0;transition: all 400ms ease-in-out;}.e,#b {transition: opacity 2000ms ease-in-out;}</style><rect fill="#000822" x="0" y="0" width="5000" height="5000"/><g id="b" style="opacity: 1"></g><polygon style="transform:translate(1825px,2005px)" id="m" fill="#484850" points="0 5.4 5.5 5.4 11 0 11 18 5.5 12.6 0 12.6"/><g id="s"><g stroke="#979797"><circle fill="#D8D8D8" cx="26.5" cy="6.5" r="6"/><line x1="26.5" y1="13.5" x2="26.5" y2="26.5"/><line x1="26.5" y1=".5" x2=".5" y2="35.5"/><line x1="26.5" y1=".5" x2="52.5" y2="35.5"/></g><circle style="transform:translate(-100px,-100px)" id="r" fill="#C9EDFF" cx="125.5" cy="125.5" r="125.5"/></g><text style="transform:translate(2225px,2225px)" x="-350" y="250" fill="#fff" font-family="Arial, sans-serif" id="t">Earth became dark. Scan for life, keep us alive in the minds of others. (Arrow keys to move/scan objects)</text><script type="text/javascript"><![CDATA[!function(e){var t=440*Math.pow(Math.pow(2,1/12),-9),n=/^[0-9.]+$/,o=/\s+/,s=/(\d+)/,r={};function a(e){var t=e.split(o);this.frequency=a.gf(t[0])||0,this.duration=a.gd(t[1])||0}function i(e,t,n){e&&(this.ac=e,this.cfn(),this.tempo=t||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,n||[]))}"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach(function(e,t){e.split("-").forEach(function(e){r[e]=t})}),a.gf=function(e){var n=e.split(s),o=r[n[0]],a=(n[1]||4)-4;return t*Math.pow(Math.pow(2,1/12),o)*Math.pow(2,a)},a.gd=function(e){return n.test(e)?parseFloat(e):e.toLowerCase().split("").reduce(function(e,t){return e+("w"===t?4:"h"===t?2:"q"===t?1:"e"===t?.5:"s"===t?.25:0)},0)},"undefined"!=typeof module&&(module.exports=a),i.prototype.cfn=function(){var e=this.gain=this.ac.createGain();return this.wet=this.ac.createGain(),this.dry=this.ac.createGain(),[["bass",100],["mid",1e3],["treble",2500]].forEach(function(t,n){(n=this[t[0]]=this.ac.createBiquadFilter()).type="peaking",n.frequency.value=t[1],e.connect(e=n)}.bind(this)),e.connect(this.wet),e.connect(this.dry),this},i.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(e){this.notes.push(e instanceof a?e:new a(e))}.bind(this)),this},i.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},i.prototype.scn=function(e,t){var n=60/this.tempo*this.notes[e].duration,o=n*(1-(this.staccato||1e-11));return this.sf(this.notes[e].frequency,t),this.smoothing&&this.notes[e].frequency&&this.slide(e,t,o),this.sf(0,t+o),t+n},i.prototype.gnn=function(e){return this.notes[e<this.notes.length-1?e+1:0]},i.prototype.gssd=function(e){return e-Math.min(e,60/this.tempo*this.smoothing)},i.prototype.slide=function(e,t,n){var o=this.gnn(e),s=this.gssd(n);return this.sf(this.notes[e].frequency,t+s),this.rf(o.frequency,t+n),this},i.prototype.sf=function(e,t){return this.osc.frequency.setValueAtTime(e,t),this},i.prototype.rf=function(e,t){return this.osc.frequency.linearRampToValueAtTime(e,t),this},i.prototype.play=function(e){return e="number"==typeof e?e:this.ac.currentTime,this.createOscillator(),this.osc.start(e),this.notes.forEach(function(t,n){e=this.scn(n,e)}.bind(this)),this.osc.stop(e),this.osc.onended=this.loop?this.play.bind(this,e):null,this},i.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.stop(0),this.osc.frequency.cancelScheduledValues(0),this.osc=null),this},"undefined"!=typeof module&&(module.exports=i),e.Note=a,e.Sequence=i}("undefined"!=typeof window?window:this);let ac,main,base,general=[{t:"None. Planet $. No intelligent life.",s:rand(200,500),h:getColor("f"),n:"n"},{p:"168.445312 70.609375 0.140625 190.21875 64.5546875 249.554687 217.242187 287.96875 267.320312 202.179687 379.273437 144.320312 247.25 0.3984375 136.1875 23.15625",t:"None. Asteroid $. No intelligent life.",s:rand(20,200),h:getColor("808080"),n:"n",m:"a"},{p:"31.765625 185.992188 0.6015625 217.789062 0.6015625 245.039062 31.765625 270.3125 62.859375 270.3125 94.671875 228.152344 225.0625 -0.0703125",t:"None. Comet $. No intelligent life.",s:rand(50,100),h:getColor("897eff"),n:"n"},{t:"None. Gas Giant $. No intelligent life.",s:rand(400,700),h:getColor("f"),n:"n"},{t:"None. Star $. No intelligent life.",s:rand(800,1e3),c:[2e3,2e3],h:getColor("efc71d"),n:"n"}],specials=[{p:"55.203125 163.25 -0.1015625 119.460938 460.898438 130.214844 212.976563 191.398438 166.601563 33.2109375 430.695313 259.9375 361.695313 290.039062 337.304688 0.4921875",t:"Alien. Artifacts. Ancient. Debris. Alone. Incoperate tech. (Up arrow 4x)",s:rand(20,100),h:getColor("00a7"),u:"s"},{P:"0.46875 72.4140625 383.25 0.28125 307.546875 172.695312",t:"Planet. Ancient. Civilization. Debris. Alone. Incoperate tech. ('S' key to toggle)",s:rand(200,500),h:getColor("00bd"),u:"r"},{p:"241.34375 59.71875 -0.1015625 119.460938 212.976562 136.921875 212.976562 191.398437 271.257812 159.421875 430.695312 259.9375 347.992188 75.640625 337.304688 0.4921875",t:"Ship. Ancient. Debris. Alone. Incoperate tech. ('W' key to FTL)",s:rand(20,100),h:getColor("00a7"),u:"w"},{p:"32.2890625 80.0625 177.3125 0.171875 302.828125 57.3125 351.289062 40.1171875 327.984375 122.078125 302.828125 80.0625 160.085938 111.429688 47.9921875 122.078125 -0.0546875 98.8984375",t:"Whale. Moos. Friend.",s:rand(20,100),h:getColor("00bd")},{t:"Probe. Sister. Debris. Alone.",s:12,h:getColor("D8D8D8")},{t:"We are ancient. We are friend. Journey on. Incoperate tech. ('W', 'S' keys)",s:rand(200,500),h:getColor("000000"),u:"a"},{t:"",s:rand(200,500),h:getColor("56ccff"),w:"t"}],sdi={0:[0,-2],30:[1,-2],60:[2,-1],90:[2,0],120:[2,1],150:[1,1],180:[0,2],210:[-1,2],240:[-1,1],270:[-2,0],300:[-1,-1],330:[-1,-2]},tempo=24,volume=.08;(window.AudioContext||window.webkitAudioContext)&&(ac=new(window.AudioContext||window.webkitAudioContext)),generateNotes();let bass=new Sequence(ac,tempo,base),lead=new Sequence(ac,tempo,main);initMusic();let ftl,gd,lrs,interval,se=!1,svg=document.querySelector("svg"),ship=svg.querySelector("#s"),radar=svg.querySelector("#r"),objects=svg.querySelector("#b"),soundButton=svg.querySelector("#m"),text=svg.querySelector("text"),degrees=0,vx=0,vy=0,px=2225,py=2225,map=[],sector=[500,500],o=null,g=null;function init(){soundButton.addEventListener("click",()=>{(se=!se)?play():stop()},!1),document.addEventListener("keydown",keyHandling,!1),genMaps(),layoutStars(),layoutBodies(),interval=setInterval(tick,10)}function tick(){move()}function keyHandling(e){let t={ArrowLeft:()=>{degrees-=30},ArrowRight:()=>{degrees+=30},ArrowUp:()=>{let e=degrees+"";gd&&Math.abs(vx)<9&&Math.abs(vy)<9?(vx+=sdi[e][0],vy+=sdi[e][1]):(vx=sdi[e][0],vy=sdi[e][1])},ArrowDown:scan,s:()=>{lrs&&(lrs="t"===lrs?"f":"t")},w:()=>{ftl&&(sector[0]=rand(0,1e3),sector[1]=rand(0,1e3),px=rand(10,4500),py=rand(10,4500),layoutBodies(),text.textContent="")}}[e.key];t&&t()}function move(){360===degrees&&(degrees=0),degrees<0&&(degrees=360+degrees),px+vx>5e3&&(sector[1]+=1,layoutBodies(),text.textContent="",px=0),px+vx<0&&(sector[1]-=1,layoutBodies(),text.textContent="",px=5e3),py+vy>5e3&&(sector[0]+=1,layoutBodies(),text.textContent="",py=0),py+vy<0&&(sector[0]-=1,layoutBodies(),text.textContent="",py=5e3),px+=vx,py+=vy,ship.style.transform="translate("+px+"px, "+py+"px) rotate("+degrees+"deg)",soundButton.style.transform="translate("+(px-400)+"px, "+(py-220)+"px)",lrs&&"t"===lrs?svg.setAttribute("viewBox","0 0 5000 5000"):svg.setAttribute("viewBox",px-225+" "+(py-225)+" 500 500")}function layoutStars(){for(let e=0;e<1e3;e++){addElement(2).style.transform="translate("+5e3*getRandom()+"px, "+5e3*getRandom()+"px)"}}function layoutBodies(){let e=objects.querySelectorAll(".c");for(let t=0;t<e.length;t++)e[t]&&e[t].remove();if(!map[sector[0]]||!map[sector[0]][sector[1]])return void win();let t=map[sector[0]][sector[1]];if(t.length>0)for(let e=0;e<t.length;e++){let n=addElement(Math.floor(t[e].s),t[e].h,t[e].p||void 0);if(n.classList.add("c"),t[e].c||(t[e].c=[],t[e].c[0]=rand(0,5e3),t[e].c[1]=rand(0,5e3)),t[e].n&&(t[e].n=sector[1]+""+t[e].c[1]+sector[0]+t[e].h.replace("#","-")),n.style.transform="translate("+t[e].c[1]+"px, "+t[e].c[0]+"px)",t[e].m)return void multipleObjects(n,t[e])}}function multipleObjects(e,t){let n=rand(1,10);n>10&&(n=10);for(let o=0;o<n;o++){let n=255*getRandom()|0,o=n<<16|n<<8|n,s=(o.toString(16),e.cloneNode(!0));s.style.transform="translate("+(t.c[1]+500*getRandom())+"px, "+(t.c[0]+600*getRandom())+"px) scale("+getRandom()+") rotate("+360*getRandom()+"deg)",s.style.fill="#"+o.toString(16),objects.appendChild(s)}}function scan(){radar.style.opacity=.8,setTimeout(()=>{radar.style.opacity=0},400),vx=0,vy=0;let e=map[sector[0]][sector[1]];text.textContent="Tir: Hello?",text.style.transform="translate("+px+"px, "+py+"px)";for(let t=0;t<e.length;t++)if(Math.abs(px-(e[t].c[1]+e[t].s))<300&&Math.abs(py-(e[t].c[0]+e[t].s))<300){if(playTone=!0,e[t].w){win("w");break}e[t].u&&("w"===e[t].u&&(ftl=!0),"r"===e[t].u&&(lrs="f"),"s"===e[t].u&&(gd=!0),"a"===e[t].u&&(ftl=!0,lrs="f",gd=!0));let n=e[t].t;e[t].n&&(n=n.replace("$",e[t].n)),text.textContent="Tir: Hello? Response: "+n;break}}function addElement(e,t,n){let o=document.createElementNS("http://www.w3.org/2000/svg",n?"polygon":"circle");return n?o.setAttribute("points",n):(o.setAttribute("cx",e),o.setAttribute("cy",e),o.setAttribute("r",e/2)),o.setAttribute("fill",t||"#fff"),objects.appendChild(o),o}function genMaps(){for(let e=0;e<1e3;e++){map.push([]);for(let t=0;t<1e3;t++){let n=[];if(500===e&&500===t){let e={...general[0]};e.s=200,e.c=[2100,2225],e.h="#b08f27",n.push(e)}else getRandom()>.5&&n.push(generateSpaceObject()),getRandom()>.5&&n.push(generateSpaceObject()),getRandom()>.5&&n.push(generateSpaceObject()),getRandom()>.95&&n.push(generateSpecial());map[e].push(n)}}}function getRandom(){return Math.random()}function generateSpaceObject(){return{...general[Math.floor(getRandom()*general.length)]}}function generateSpecial(){return{...specials[Math.floor(getRandom()*specials.length)]}}function getColor(e){return"#"+e+(1e8*getRandom()).toString(16).substring(0,6-e.length)}function rand(e,t){let n=Math.floor(getRandom()*t);return n<e?e:n}function win(e){clearInterval(interval),svg.setAttribute("viewBox",px-225+" "+(py-225)+" 500 500"),text.textContent="",objects.style.opacity=0,text.style.opacity=0,text.classList.add("e");let t=text.cloneNode(!0),n=text.cloneNode(!0);svg.appendChild(t),svg.appendChild(n),setTimeout(function(){setTimeout(()=>{stop()},16e3);let t=svg.querySelectorAll(".e"),n=["You are probe. Welcome home. We sent you out when all hope had escaped us. ","You were to tell others of our story, so not all was lost. You have done well. ","Speak your journey. Come, rest our friend. Together."],o=["We have watched you for millennia. You are a testiment to your creators. ","Few have built anything that traveled beyond this galaxies wall. Come rest. ","You have done well. We will honor you and your journey. Together."];for(let s=0;s<t.length;s++)t[s].style.transform="translate("+px+"px, "+(py-50*(3-s))+"px)",t[s].textContent="w"===e?n[s]:o[s],t[s].style.opacity=0,setTimeout(()=>{t[s].style.opacity=1},3e3*s)},4e3)}function generateNotes(){let e=["_  e","E4 q","F#4 e","D4 q","B3 e","G4 q","E4 e","B4 h","A4 q","A4 e","A4 q","G4  e","F#4 e","E4 e"],t=["D e","D e","D e","D e","D e","D e","D e","D e","D e","D e","D e","D e","D e","D e","D e","D e","D e","G4 e","G4 e","G4 e","G4 e","B4 e","B4 e","B4 e","G5 e","B4 e","G5 e","B4 e","G4 e","G4 e","D e","C4 e","C5 q","D5 q","C4 3"],n=["_  e","_  e","_  e","_  e"],o=[];for(let s=0;s<1e3;s++)n.push(e[Math.floor(getRandom()*e.length)]),o.push(t[Math.floor(getRandom()*t.length)]);main=n,base=o}function initMusic(){if(ac){let e=ac.createOscillator(),t=ac.createDynamicsCompressor(),n=ac.createGain();n.connect(ac.destination),n.gain.value=volume;let o=ac.createConvolver();o.buffer=createReverb(2),o.connect(t),e.frequency.value=0,e.connect(t),e.start(),lead.wet.connect(o),bass.dry.connect(t),lead.dry.connect(t),t.connect(n),bass.waveType="sine",bass.treble.type="lowpass",lead.waveType="sine"}}function play(){let e;ac&&(e=ac.currentTime,lead.play(e),bass.play(e))}function stop(){ac&&(lead.stop(),bass.stop())}function createReverb(){for(var e=ac.sampleRate,t=2*e,n=ac.createBuffer(2,t,e),o=n.getChannelData(0),s=n.getChannelData(1),r=0;r<t;++r)o[r]=(2*getRandom()-1)*Math.pow(1-r/t,2),s[r]=(2*getRandom()-1)*Math.pow(1-r/t,2);return n}init();]]></script></svg>